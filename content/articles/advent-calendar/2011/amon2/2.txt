どの Flavor つかったらいいのん?
meta-author: tokuhirom
meta-tags: perl
meta-date: 2011-12-02

ふっつかっめです! tokuhirom です。

>||
% amon2-setup.pl --flavor=Lite Foo
||<
みたいにして、フレーバーをみなさん指定いるかとおもいますが、これのつかいわけの話をかこうかとおもいます。

* 標準添付のフレーバー

現在標準添付の Flavor は Amon2::Setup::Flavor::Basic と Amon2::Setup::Flavor::Minimum そして Amon2::Setup::Flavor::Large です。

それぞれのつかいわけがむずかしいなあとおもうところもあるので、それぞれの使い分けかたをここにしるす次第です。

**Amon2::Setup::Flavor::Basic

これが一番の基本形です。Basic となづけてあるところからも明白です。これこそがまさにデフォルトです。

とくに理由がなければこれがいいんじゃないでしょうか、というかんじです。

**Amon2::Setup::Flavor::Large

なんかこう仕事とかで長期的にいじるサイトとかだと管理画面とかつくりたくなりますよね。そういうような規模のサイトをつくるときようのフレーバーです。

**Amon2::Setup::Flavor::Minimum

依存関係おおいんですけど! って DIS られたときに「Minimumフレーバーというものがあってですね」といいわけするためだけに存在するフレーバーです。

通常はつかう必要がありません。

* オプショナルなフレーバー

** Amon2::Setup::Flavor::Lite
Sinatra 的というか、メインのロジックを1ファイルにまとめてもいいかなーという規模のサイトをつくるときにはこれでいいかもしれません。

コードサンプルをかくときなんかにも便利です。

** Amon2::Setup::Flavor::MobileJP
ガラケーむけサイトをつくるときようのフレーバーです。 Large フレーバーをベースにしています。

サイトをこういう風につくるといいんじゃない? というオススメモジュールのテンプレ的な意味がつよいフレーバーです。

- ガラケー用のセッション
- 全角カタカナを半角カタカナに変換する
- 非対応端末用のページを表示する機能
- ガラケー用のサイトとPC用のサイトのだしわけ

などなどが実装されています。

* サードパーティーフレーバー

** Amon2::Setup::Flavor::Teng

ka2u さんによるフレーバーです。 Teng を簡単につかえてべんりですね。 ka2u+=

* まとめ

今日はフレーバーのつかいわけについてかいてみました。個人的には Basic > Lite >>>>> (越えられない壁) >> Large ぐらいの頻度で利用しています。

